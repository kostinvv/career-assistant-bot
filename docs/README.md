На изображении представлена архитектура Telegram-бота использующего FastAPI и LLM DeepSeek:

1. PostgreSQL - БД для хранения сессий, истории взаимодействия, вопросов и ответов.

2. FastAPI - основной серверный компонент, обрабатывает входящие запросы от бота, взаимодействует с БД и LLM API.

3. DeepSeek LLM API - внешний API, который предоставляет генерацию оценки на основе пользовательских ответов.

4. Telegram Bot - интерфейс взаимодействия с пользователем.

Вазимодействие осуществляется следующим образом:

1. Пользователь выбирает топик в Telegram-боте.

2. FastAPI получает выбор и запрашивает первый вопрос из PostgreSQL, соответствующий топику.

3. Вопрос отправляется пользователю через Telegram.

4. Пользователь отвечает на вопрос, бот передаёт ответ в FastAPI.

5. FastAPI отправляет ответ пользователя и оригинальный вопрос в DeepSeek LLM API для оценки.

6. Полученная оценка сохраняется в PostgreSQL вместе с логом взаимодействия.

7. Система предлагает следующий вопрос из БД (по тому же топику) - цикл продолжается до выхода пользователя.

FastAPI является центральным звеном, обрабатывающим взаимодействие между клиентом, базой данных и LLM-сервисом.